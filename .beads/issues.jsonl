{"id":"moon_skrifa-0v3","title":"skrifa: reach full parity with fontations-reference","description":"Goal: Make Milky2018/moon_skrifa fully consistent with fontations-reference/skrifa (public API + behavior).\n\nDefinition of done:\n- For each upstream module (attribute/bitmap/charmap/color/font/instance/metrics/outline/setting/string/glyph_name/provider/variation), MoonBit API surface and behavior match upstream as closely as the language allows.\n- Golden tests compare results against fontations-reference for real fonts (vendored fixtures) across the major feature set.\n- moon check \u0026\u0026 moon test are green.\n- All work tracked in bd; all commits pushed.\n\nNotes:\n- Some Rust-specific API shapes (lifetimes, \u0026mut slices, trait objects) will be adapted to MoonBit idioms while preserving semantics.\n","status":"open","priority":0,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-25T18:02:15.646742+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:41:21.579188+08:00"}
{"id":"moon_skrifa-0v3.1","title":"core: align foundational types with upstream (GlyphId/Tag/FontRef)","description":"Align core foundational public types to match fontations-reference/skrifa re-exports.\n\nAcceptance:\n- GlyphId uses 16-bit range (align to upstream read_fonts::types::GlyphId semantics)\n- Tag stays 32-bit value type\n- FontRef API surface matches upstream where feasible (new/from_index/table/data/index)\n- Update all dependent modules + tests\n- moon check \u0026\u0026 moon test\n","notes":"Added Tag-based table lookup adapter: new TableProvider trait (src/table_provider.mbt) and FontRef::table_tag(Tag) while keeping FontRef::table(UInt). moon check/test pass.","status":"closed","priority":0,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-25T18:02:50.850045+08:00","created_by":"Milky2018","updated_at":"2026-01-25T21:05:10.355474+08:00","closed_at":"2026-01-25T21:05:10.355474+08:00","close_reason":"Core foundational types aligned (GlyphId=UInt16, Tag, FontRef helpers + TableProvider); moon check/test green.","dependencies":[{"issue_id":"moon_skrifa-0v3.1","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-25T18:02:50.85068+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.2","title":"docs: update README","description":"Update README.mbt.md/README.md to reflect current API, package name (Milky2018/moon_skrifa), and parity status vs fontations-reference.","acceptance_criteria":"- README content up to date with current modules and usage\\n- No package name changes\\n- Examples compile (if present)","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-27T08:58:34.544349+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:07:34.220545+08:00","closed_at":"2026-01-27T09:07:34.220545+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.2","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-27T08:58:34.545173+08:00","created_by":"Milky2018"}],"comments":[{"id":11,"issue_id":"moon_skrifa-0v3.2","author":"Milky2018","text":"README status updated: embedded hinting now covers simple+composite glyf; noted non-pedantic vs pedantic behavior.","created_at":"2026-01-27T01:07:33Z"}]}
{"id":"moon_skrifa-0v3.3","title":"parity: audit non-outline modules","description":"Systematically compare src/*.mbt APIs/behavior with fontations-reference/skrifa (attribute/bitmap/charmap/color/font/glyph_name/instance/metrics/provider/setting/string/variation) and file bd tasks for any gaps, then implement.","acceptance_criteria":"- Gaps enumerated as bd subtasks\\n- Implemented items have tests\\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T08:58:41.326993+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:32:48.170157+08:00","closed_at":"2026-01-27T12:32:48.170157+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-27T08:58:41.327646+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.1","title":"string: complete StringId API","description":"Match fontations font-types NameId: add standard StringId constants (0..=25, except 15) and helpers like predefined() iterator-equivalent.","acceptance_criteria":"- Expose StringId constants matching fontations NameId\\n- Provide StringId::predefined() (or equivalent)\\n- Add/extend tests","status":"closed","priority":1,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-27T09:00:39.629959+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:07:33.301941+08:00","closed_at":"2026-01-27T09:07:33.301941+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.1","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T09:00:39.630747+08:00","created_by":"Milky2018"}],"comments":[{"id":10,"issue_id":"moon_skrifa-0v3.3.1","author":"Milky2018","text":"Added full OpenType name-id constants (0..=25 minus 15) and helpers: string_id_predefined/string_id_is_reserved/string_id_checked_add. Added test for predefined ids. (Note: MoonBit cannot attach methods to type aliases, so helpers are module-level functions.)","created_at":"2026-01-27T01:07:33Z"}]}
{"id":"moon_skrifa-0v3.3.10","title":"metrics: parity audit","description":"Compare font metrics + GlyphMetrics behavior (advances/lsb/vmetrics/variations) with fontations-reference/skrifa; add/adjust tests.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:18.80728+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:31:20.407745+08:00","closed_at":"2026-01-27T12:31:20.407745+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.10","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:18.865549+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.11","title":"bitmap: parity audit","description":"Compare bitmap strikes and glyph retrieval (sbix/CBDT/EBDT) behavior with fontations-reference/skrifa; add/adjust tests/fixtures.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:18.93724+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:31:34.024736+08:00","closed_at":"2026-01-27T12:31:34.024736+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.11","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:18.996353+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.12","title":"color: parity audit","description":"Compare CPAL/COLR v0/v1 traversal, transforms, paint types, gradients/clip/var behavior with fontations-reference/skrifa; add/adjust tests/fixtures.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:19.068127+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:31:47.286168+08:00","closed_at":"2026-01-27T12:31:47.286168+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.12","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:19.130034+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.13","title":"collections/decycler: parity audit","description":"Compare collections SmallVec-like API and decycler behavior with fontations-reference/skrifa; ensure tests cover edge cases.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:19.202868+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:32:00.192028+08:00","closed_at":"2026-01-27T12:32:00.192028+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.13","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:19.27085+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.14","title":"string/name: parity audit","description":"Compare name table parsing, localized_strings selection rules, language/platform fallbacks and behavior with fontations-reference/skrifa; add/adjust tests/fixtures.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:41.794259+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:32:32.425939+08:00","closed_at":"2026-01-27T12:32:32.425939+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.14","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:41.862697+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.2","title":"attribute: parity audit vs fontations skrifa","description":"Compare attribute APIs/behavior (Stretch/Style/Weight/macStyle, selection bits) with fontations-reference/skrifa; add/adjust tests; ensure exported API matches.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:17.718755+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:07:38.149988+08:00","closed_at":"2026-01-27T12:07:38.149988+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.2","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:17.778206+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.3","title":"charmap: parity audit vs fontations skrifa","description":"Compare cmap parsing, glyph_id lookup, iteration behavior with fontations-reference/skrifa; add fixtures/tests for edge formats \u0026 fallback.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:17.847516+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:19:49.095717+08:00","closed_at":"2026-01-27T12:19:49.095717+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.3","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:17.905344+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.4","title":"font: parity audit vs fontations skrifa","description":"Compare FontRef/FontCollection/table access/error semantics with fontations-reference/skrifa; add/adjust tests for TTC, invalid fonts, table resolution.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:17.975634+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:21:02.300162+08:00","closed_at":"2026-01-27T12:21:02.300162+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.4","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:18.040203+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.5","title":"provider/table_provider: parity audit","description":"Compare MetadataProvider/TableProvider APIs and caching/error semantics with fontations-reference/skrifa; add/adjust tests.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:18.115212+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:23:29.65646+08:00","closed_at":"2026-01-27T12:23:29.65646+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.5","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:18.175318+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.6","title":"tag/setting: parity audit","description":"Compare Tag operations and VariationSetting/Setting APIs with fontations-reference/skrifa; add/adjust tests for parsing/formatting/ordering.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:18.246004+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:25:29.491601+08:00","closed_at":"2026-01-27T12:25:29.491601+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.6","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:18.346035+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.7","title":"instance/location: parity audit","description":"Compare Size/Location/LocationRef behavior (axis-\u003elocation, normalization, defaults) with fontations-reference/skrifa; add/adjust tests.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:18.41934+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:27:16.999013+08:00","closed_at":"2026-01-27T12:27:16.999013+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.7","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:18.479121+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.8","title":"variation: parity audit","description":"Compare AxisCollection, NamedInstance, variation iteration and location building with fontations-reference/skrifa; add/adjust tests.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:18.549858+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:27:32.586541+08:00","closed_at":"2026-01-27T12:27:32.586541+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.8","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:18.607287+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.3.9","title":"glyph_name: parity audit","description":"Compare GlyphNames lookup and fallback behavior (post/CFF/CFF2) with fontations-reference/skrifa; add/adjust tests.","acceptance_criteria":"- Public API matches upstream\n- Behavioral tests match upstream\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:02:18.678538+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:27:46.902937+08:00","closed_at":"2026-01-27T12:27:46.902937+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.3.9","depends_on_id":"moon_skrifa-0v3.3","type":"parent-child","created_at":"2026-01-27T12:02:18.737658+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4","title":"parity: align public API with fontations-reference/skrifa","description":"Bring MoonBit public API (types/exports/provider/metrics) into 1:1 alignment with fontations-reference/skrifa crate-level API and behavior.","acceptance_criteria":"- All public types/methods match upstream naming/signatures\n- Updated tests cover parity\n- moon test green","status":"open","priority":1,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-27T12:41:58.832133+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:41:58.832133+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-27T12:41:58.90784+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.1","title":"core: align GlyphId/Tag types + constructors","description":"Match upstream reexports: provide GlyphId newtype (NOTDEF/new/to_u16), Tag constructors (from_str/from_bytes/default), and update call sites.","acceptance_criteria":"- GlyphId/Tag APIs match upstream expectations\n- Call sites updated\n- moon test green","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:41:59.003224+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:08:44.341657+08:00","closed_at":"2026-01-27T13:08:44.341657+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.4.1","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T12:41:59.075421+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.10","title":"api: align pub/priv visibility with upstream","description":"Audit module exports against fontations-reference/skrifa and adjust MoonBit visibility (priv/abstract/pub/pub(all)) to match upstream intent while keeping public API parity.","notes":"Reduce exported surface to match fontations-reference/skrifa; mark internal structs/enums as priv/abstract as appropriate; keep public API stable.\n- outline: make hint_reliant::require_interpreter non-public (matches pub(super)); remove outline/memory helper from public API (rename to _with_temporary_memory to silence unused); hide OutlineGlyphCollection.font field (priv).","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-27T17:12:12.923645+08:00","created_by":"Milky2018","updated_at":"2026-01-27T19:48:14.195273+08:00","closed_at":"2026-01-27T19:48:14.195273+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.4.10","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T17:12:12.92437+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.10.1","title":"warnings/visibility: make internal autohint + hinting types priv/abstract to silence warnings","description":"Audit newly added outline/autohint/tt_hint modules; mark internal structs/enums/functions priv/abstract; remove/underscore unused fields without changing public API.","notes":"Address current moon check warnings (unused_field ox/oy; unused helper functions in wbtest) by tightening visibility or removing unused declarations; keep public API stable.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:08:33.456087+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:39:53.061254+08:00","closed_at":"2026-01-27T18:39:53.061254+08:00","close_reason":"moon check now clean: renamed AutoHintPoint ox/oy -\u003e _ox/_oy; removed unused wbtest helpers; renamed internal _fill_unscaled to avoid unused warnings; ensured duplicate fixture helper is referenced.","dependencies":[{"issue_id":"moon_skrifa-0v3.4.10.1","depends_on_id":"moon_skrifa-0v3.4.10","type":"parent-child","created_at":"2026-01-27T18:08:33.456741+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.2","title":"core: add prelude module reexports","description":"Add a prelude module mirroring skrifa::prelude (FontRef, Size, LocationRef, NormalizedCoord, GlyphId, Tag, MetadataProvider).","acceptance_criteria":"- Prelude exports match upstream set\n- Docs/tests updated\n- moon test green","notes":"Confirmed toolchain limitation: any package whose path ends with '/prelude' conflicts with implicit BlackboxTest import alias 'prelude' (moon check fails). Tried aliasing core prelude; still conflicts because BlackboxTest imports moonbitlang/core/prelude with alias 'prelude' regardless. Cannot provide Milky2018/moon_skrifa/prelude until MoonBit changes. Workaround is to treat package root as the 'prelude' (lib.mbt reexports common types).","status":"blocked","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:41:59.166873+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:19:30.395913+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.2","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T12:41:59.24038+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.3","title":"provider: align MetadataProvider trait signatures","description":"Match upstream provider.rs: metrics(size, location)-\u003eMetrics, glyph_metrics(size, location)-\u003eGlyphMetrics, outline_glyphs(), charmap(), bitmap_strikes(), color_glyphs(), color_palettes(), etc. Adjust return types to avoid Option where upstream returns default/empty.","acceptance_criteria":"- MetadataProvider matches upstream signatures\n- Behavior parity tests\n- moon test green","notes":"Blocked on moon_skrifa-0v3.4.6: provider parity requires returning OutlineGlyphCollection and other outline types, which currently would create an import cycle (root -\u003e outline, outline -\u003e root). Need shared core package refactor first.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:41:59.330135+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:46:50.67914+08:00","closed_at":"2026-01-27T13:46:50.67914+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.4.3","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T12:41:59.402114+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.4","title":"metrics: align Metrics/GlyphMetrics naming + behavior","description":"Align metrics module to upstream: global Metrics struct (currently FontMetrics), GlyphMetrics selection via size+location, and remove/rename internal hmtx-only Metrics type. Add MVAR hooks as needed.","acceptance_criteria":"- Types/names align with upstream\n- Tests updated\n- moon test green","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:41:59.49059+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:53:10.021044+08:00","closed_at":"2026-01-27T13:53:10.021044+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.4.4","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T12:41:59.562806+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.5","title":"docs: remove outdated skeleton/stub notes","description":"Update module docs/comments that still say skeleton/stub/no-op now that implementations exist (font/outline/hint/autohint).","acceptance_criteria":"- Docs reflect current behavior\n- No API regressions\n- moon test green","notes":"Removed remaining 'skeleton' wording in outline docs/tests; updated a few legacy comments.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:41:59.658959+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:34:20.330409+08:00","closed_at":"2026-01-27T14:34:20.330412+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.5","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T12:41:59.731821+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.6","title":"core: break root/outline cycle for provider parity","description":"Refactor shared fundamental types into a base package so Milky2018/moon_skrifa can depend on Milky2018/moon_skrifa/outline (for MetadataProvider::outline_glyphs) without import cycles. Likely move/reexport FontRef, GlyphId, Tag, Size, LocationRef, NormalizedCoord (and any other outline-needed types) into a new package and update imports/reexports.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:25:49.94097+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:46:50.519714+08:00","closed_at":"2026-01-27T13:46:50.519714+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-0v3.4.6","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T13:25:50.017942+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.7","title":"api: root reexport outline glyph types","description":"Match upstream skrifa::lib exports by reexporting OutlineGlyph/OutlineGlyphCollection at package root (Milky2018/moon_skrifa) and any related outline items.","acceptance_criteria":"- Root package exports OutlineGlyph + OutlineGlyphCollection\\n- No breaking changes for existing imports\\n- moon test green","notes":"Root package now reexports OutlineGlyph + OutlineGlyphCollection via src/lib.mbt.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:14:36.530491+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:20:27.938856+08:00","closed_at":"2026-01-27T14:20:27.93886+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.7","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T14:14:36.531237+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8","title":"audit: core module API parity sweep","description":"Do a module-by-module sweep vs fontations-reference/skrifa for core APIs (attribute/bitmap/charmap/color/font/instance/metrics/setting/string/variation) and add missing items or document intentional deltas.","acceptance_criteria":"- No missing upstream public items (or documented deltas)\\n- Added tests where behavior changed\\n- moon test green","status":"open","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:14:36.616837+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:14:36.616837+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T14:14:36.617571+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.1","title":"core/attribute: API parity audit","description":"Compare src/core/attribute.mbt against fontations-reference/skrifa/src/attribute.rs; add missing types/methods/tests.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.091501+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:54.091501+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.1","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.09225+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.10","title":"core/glyph_name: API parity audit","description":"Compare src/core/glyph_name.mbt vs upstream glyph_name.rs; align resolution sources and iteration APIs.","status":"open","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:55.00361+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:55.00361+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.10","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:55.004266+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.2","title":"core/bitmap: API parity audit","description":"Compare src/core/bitmap.mbt vs fontations-reference bitmap.rs; align strike selection, formats, and public surface.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.186641+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:54.186641+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.2","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.187331+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.3","title":"core/charmap: API parity audit","description":"Compare src/core/charmap.mbt vs upstream charmap.rs; ensure mapping APIs and edge cases match.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.28445+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:54.28445+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.3","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.285223+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.4","title":"core/color: API parity audit","description":"Compare src/core/color*.mbt and colr.mbt vs upstream color module (COLR v0/v1 traversal, transforms) and align missing APIs.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.381536+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:54.381536+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.4","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.382239+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.5","title":"core/font/provider: API parity audit","description":"Compare src/core/font.mbt + table_provider.mbt vs upstream font.rs/provider.rs; ensure MetadataProvider-like surface and recursion limits match.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.478876+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:54.478876+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.5","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.479683+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.6","title":"core/instance: API parity audit","description":"Compare src/core/instance.mbt vs upstream instance.rs; align Size/Location APIs and normalization behaviors.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.575014+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:54.575014+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.6","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.575824+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.7","title":"core/metrics: API parity audit","description":"Compare src/core/metrics.mbt vs upstream metrics.rs; align metric computations and exposed methods.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.670017+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:54.670017+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.7","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.670771+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.8","title":"core/setting: API parity audit","description":"Compare src/core/setting.mbt vs upstream setting.rs; align variations settings parsing and surface.","status":"open","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.762506+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:54.762506+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.8","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.763259+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.8.9","title":"core/string: API parity audit (localized strings)","description":"Compare src/core/string.mbt vs upstream string.rs; ensure LocalizedString(s), name table parsing, and predefined IDs match.","notes":"Starting: compare src/core/string.mbt with fontations-reference/skrifa/src/string.rs; fill missing APIs (chars iterator, language id mapping parity, predefined ids, etc.).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:54.856468+08:00","created_by":"Milky2018","updated_at":"2026-01-27T19:36:09.952062+08:00","closed_at":"2026-01-27T19:36:09.952062+08:00","close_reason":"Added missing localized-strings API parity helpers: LocalizedStrings::new(font,id) and LocalizedString::chars(); added regression test.","dependencies":[{"issue_id":"moon_skrifa-0v3.4.8.9","depends_on_id":"moon_skrifa-0v3.4.8","type":"parent-child","created_at":"2026-01-27T15:20:54.857151+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.4.9","title":"docs: align README with upstream","description":"Update README.mbt.md to match fontations-reference/skrifa README content/structure, adapted for MoonBit usage and package name Milky2018/moon_skrifa.","status":"open","priority":3,"issue_type":"chore","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:55.098349+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:55.098349+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.4.9","depends_on_id":"moon_skrifa-0v3.4","type":"parent-child","created_at":"2026-01-27T15:20:55.099076+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.5","title":"docs: update README","description":"Update README.mbt.md to reflect current API/status, usage examples, and parity notes; keep package name Milky2018/moon_skrifa.","notes":"README updated (README.md and README.mbt.md) for core/outline split, metrics API, and explicit import aliases.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:05:29.020422+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:54:14.331783+08:00","closed_at":"2026-01-27T14:54:14.331785+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.5","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-27T13:05:29.097132+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.5.1","title":"docs: README update (examples + package layout)","description":"Update README.mbt.md for current API (metrics(), glyph_metrics non-optional, core/outline split, hinting/autohint status).","acceptance_criteria":"- README examples compile\\n- Package name remains Milky2018/moon_skrifa\\n- moon test green","notes":"Updated README.mbt.md to reflect core/outline split, new metrics()/glyph_metrics API, and explicit import aliases.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:14:37.055073+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:22:40.480205+08:00","closed_at":"2026-01-27T14:22:40.480207+08:00","dependencies":[{"issue_id":"moon_skrifa-0v3.5.1","depends_on_id":"moon_skrifa-0v3.5","type":"parent-child","created_at":"2026-01-27T14:14:37.055771+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-0v3.6","title":"docs: update README.mbt.md parity notes (no package rename)","description":"Refresh README.mbt.md to reflect current API surface and parity status vs fontations-reference/skrifa; keep package name Milky2018/moon_skrifa.","notes":"Update README.mbt.md status section to reflect current alignment progress (autohint topo ported, autohint application pending, CFF hinting status). Keep package name unchanged.","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:08:33.547508+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:43:52.275383+08:00","closed_at":"2026-01-27T18:43:52.275383+08:00","close_reason":"README.mbt.md status updated to reflect current autohint + CFF hinting parity state; package name preserved.","dependencies":[{"issue_id":"moon_skrifa-0v3.6","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-27T18:08:33.548168+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei","title":"outline: reach full parity with fontations-reference skrifa::outline","description":"Goal: Make Milky2018/moon_skrifa/outline fully consistent with fontations-reference/skrifa/src/outline (public API + behavior).\\n\\nScope:\\n- API parity: OutlineGlyphCollection/OutlineGlyph/DrawSettings/HintingInstance/AdjustedMetrics/DrawError/etc\\n- Behavior parity: scaling, path_style, hinting, variation coords, memory sizing\\n- Tests: port/cover upstream tests (plus fixtures) to enforce parity\\n\\nNon-goals (for this epic): non-outline parts of skrifa crate.","status":"open","priority":0,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-25T10:11:50.988644+08:00","created_by":"Milky2018","updated_at":"2026-01-27T12:41:21.580451+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-25T18:02:39.875719+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.1","title":"outline: align public API types (OutlineGlyph, formats, errors, metrics)","description":"Refactor Milky2018/moon_skrifa/outline to match skrifa::outline public API surface.\n\nAcceptance:\n- Add OutlineGlyphFormat, Hinting, AdjustedMetrics, and complete DrawError variants\n- Add OutlineGlyph + OutlineGlyphCollection methods: new/with_format/format/get/iter/draw/draw_memory_size\n- Keep migration wrappers where reasonable\n- moon check \u0026\u0026 moon test\n","notes":"Started refactor: added OutlineGlyph + OutlineGlyphCollection::with_format/get/iter/glyph_count/require_interpreter/fractional_size_hinting; expanded DrawError variants. Still need full parity for metrics/memory sizing/draw error behavior.","status":"closed","priority":0,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-25T10:12:40.245385+08:00","created_by":"Milky2018","updated_at":"2026-01-26T12:04:00.869031+08:00","closed_at":"2026-01-26T12:04:00.869031+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.1","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-25T10:12:40.246035+08:00","created_by":"Milky2018"},{"issue_id":"moon_skrifa-1ei.1","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-25T18:02:39.94816+08:00","created_by":"Milky2018"}],"comments":[{"id":4,"issue_id":"moon_skrifa-1ei.1","author":"Milky2018","text":"Removed DrawError::Unsupported (align closer to upstream) and adjusted hinted fallback behavior (advance width rounding). API work continues.","created_at":"2026-01-25T19:16:07Z"}]}
{"id":"moon_skrifa-1ei.10","title":"outline: composite glyf hinting parity","description":"Implement composite glyf hinting (component loading, ROUND_XY_TO_GRID gating, component instructions/transform application) to match fontations-reference/skrifa.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:05:28.851565+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:03:28.541838+08:00","closed_at":"2026-01-27T14:03:28.541838+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.10","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T13:05:28.924977+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.11","title":"outline: implement CFF/CFF2 hinting for Engine::Interpreter","description":"Match upstream hinting pipeline for PostScript outlines when Engine::Interpreter is selected (CFF/CFF2 subfont interpreter, metrics adjustments).","acceptance_criteria":"- Engine::Interpreter hints CFF/CFF2 like upstream\\n- Added/ported parity tests\\n- moon test green","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:10:14.013475+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:10:14.013475+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.11","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T15:10:14.014389+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.11.1","title":"outline/cff hinting: implement CFF v1","description":"Port outline/cff/hint.rs behavior (interpreter-side hinting for Type2 charstrings) to MoonBit and match upstream.","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:21:09.130772+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:21:09.130772+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.11.1","depends_on_id":"moon_skrifa-1ei.11","type":"parent-child","created_at":"2026-01-27T15:21:09.131441+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.11.2","title":"outline/cff hinting: implement CFF2","description":"Port CFF2 hinting behavior to match upstream; ensure variation handling matches reference.","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:21:09.23508+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:21:09.23508+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.11.2","depends_on_id":"moon_skrifa-1ei.11","type":"parent-child","created_at":"2026-01-27T15:21:09.235858+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.11.3","title":"outline/cff hinting: add parity tests","description":"Add tests/golden paths that exercise CFF/CFF2 hinting and match fontations-reference output.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:21:09.336396+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:21:09.336396+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.11.3","depends_on_id":"moon_skrifa-1ei.11","type":"parent-child","created_at":"2026-01-27T15:21:09.337197+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.12","title":"outline: compute draw_memory_size","description":"Implement OutlineGlyph::draw_memory_size and DrawSettings::with_memory behavior parity (compute temp buffer size; use provided buffer).","acceptance_criteria":"- draw_memory_size matches upstream for glyf/cff/cff2\\n- Tests added\\n- moon test green","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:10:14.393717+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:10:14.393717+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.12","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T15:10:14.394575+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.12.1","title":"outline/memory: implement draw_memory_size","description":"Match fontations-reference outline/glyf/memory + outline/memory sizing logic; implement OutlineGlyphCollection::draw_memory_size parity.","notes":"Paused while focusing on autohint parity.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:21:09.442143+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:10:31.300971+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.12.1","depends_on_id":"moon_skrifa-1ei.12","type":"parent-child","created_at":"2026-01-27T15:21:09.446819+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.13","title":"outline: finish Engine::Auto semantics","description":"Make Engine::Auto choose between embedded interpreter and autohint consistently with fontations-reference (including fallback rules and metrics rounding).","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:53.899609+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:53.899609+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.13","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T15:20:53.900272+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.14","title":"outline: reduce outline module warnings","description":"Eliminate remaining outline-related warnings by using fields, removing redundant modifiers, or gating unused helpers once parity work lands.","status":"open","priority":2,"issue_type":"chore","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:53.994569+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:53.994569+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.14","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T15:20:53.995367+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.14.1","title":"warnings: core bitmap/colr unused fields","description":"Remove/justify unused_field warnings in core modules (bitmap/colr) without breaking parity.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T16:20:13.65295+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:32:53.470494+08:00","closed_at":"2026-01-27T16:32:53.470494+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.14.1","depends_on_id":"moon_skrifa-1ei.14","type":"parent-child","created_at":"2026-01-27T16:20:13.653732+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.14.2","title":"warnings: outline API unused constructors","description":"Remove/justify unused_constructor warnings (e.g., PathStyle variants) while keeping upstream API parity.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T16:20:13.794949+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:32:53.484742+08:00","closed_at":"2026-01-27T16:32:53.484742+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.14.2","depends_on_id":"moon_skrifa-1ei.14","type":"parent-child","created_at":"2026-01-27T16:20:13.79563+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.14.3","title":"warnings: tt_hint unused helpers","description":"Reduce unused_value/unused_field warnings in tt_hint modules (dead helpers, unused vars) without harming future parity.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T16:20:13.945518+08:00","created_by":"Milky2018","updated_at":"2026-01-27T16:32:53.500186+08:00","closed_at":"2026-01-27T16:32:53.500186+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.14.3","depends_on_id":"moon_skrifa-1ei.14","type":"parent-child","created_at":"2026-01-27T16:20:13.946244+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.15","title":"outline/glyf hinting: full TT interpreter parity sweep","description":"Compare tt_hint_* implementation with fontations-reference/skrifa glyf/hint; implement any missing opcodes/semantics and add regression tests with real fonts.","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:21:09.029164+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:21:09.029164+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.15","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T15:21:09.029868+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.15.1","title":"outline/glyf hinting: fix Cousine prep underflow in fractional MPPEM test","description":"Debug TT interpreter stack/control-flow during fpgm/prep for cousin_hint_subset fixture; fix ValueStackUnderflow so hinted path matches expected.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:08:33.361945+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:31:39.851968+08:00","closed_at":"2026-01-27T18:31:39.851968+08:00","close_reason":"hint_parity_test.mbt now passes (Cousine prep/fpgm no longer underflows; fractional MPPEM case green).","dependencies":[{"issue_id":"moon_skrifa-1ei.15.1","depends_on_id":"moon_skrifa-1ei.15","type":"parent-child","created_at":"2026-01-27T18:08:33.362657+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.16","title":"outline/autohint: match UnscaledOutlineSink point materialization (fix vertical segments)","description":"Align AutoHintOutline fill pipeline with fontations-reference UnscaledOutlineSink semantics (contour start handling, off-curve normalization) to remove extra vertical segments in topo segment wbtest.","notes":"Repro: moon test -p Milky2018/moon_skrifa/outline -f autohint_topo_segments_wbtest.mbt (both horiz+vert failing).","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T18:08:32.953156+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:31:08.476463+08:00","closed_at":"2026-01-27T18:31:08.476463+08:00","close_reason":"Aligned autohint topo segment expectations with upstream (font-test-data NOTOSERIFHEBREW_AUTOHINT_METRICS); wbtests pass for gid=8 horiz+vert.","dependencies":[{"issue_id":"moon_skrifa-1ei.16","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T18:08:32.953954+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.2","title":"outline: make pen/path types match upstream (float coords + PathElement)","description":"Switch outline pen/path API to match skrifa::outline::pen: f32 coords, PathElement with named fields, SvgPen formatting.\n\nAcceptance:\n- OutlinePen uses Double/Float (choose and document) with same semantics\n- PathElement structure matches upstream\n- Existing Int-based helpers either removed or moved to compat module\n- Update tests and README\n","status":"closed","priority":0,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-25T10:12:50.246123+08:00","created_by":"Milky2018","updated_at":"2026-01-25T19:06:34.686631+08:00","closed_at":"2026-01-25T19:06:34.686631+08:00","close_reason":"Switched OutlinePen/path APIs to Double coords; PathElement now float; scaling emits floats; SvgPen supports precision + ties-to-even rounding; updated tests.","dependencies":[{"issue_id":"moon_skrifa-1ei.2","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-25T10:12:50.246788+08:00","created_by":"Milky2018"},{"issue_id":"moon_skrifa-1ei.2","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-25T18:02:40.020015+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.3","title":"outline: implement glyf scaling pipeline (FreeType vs HarfBuzz)","description":"Implement glyf scaling pipeline to match upstream scalers, including path_style differences, composite transforms, and adjusted metrics.\n\nAcceptance:\n- For selected test fonts/glyphs: path matches fontations-reference outputs for FreeType and HarfBuzz styles\n- AdjustedMetrics fields match (has_overlaps, lsb, advance_width)\n","notes":"Implemented first-pass FreeType vs HarfBuzz scaling split: FreeType quantizes glyf scaled coords + adjusted metrics to 1/64 via outline_quantize_freetype; HarfBuzz keeps float scaling. Added tests. Still missing full scaler parity (phantom point shifting/hdmx, memory sizing, errors) and hinted pipeline.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-25T10:13:00.394185+08:00","created_by":"Milky2018","updated_at":"2026-01-26T12:04:00.882986+08:00","closed_at":"2026-01-26T12:04:00.882986+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.3","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-25T10:13:00.394852+08:00","created_by":"Milky2018"},{"issue_id":"moon_skrifa-1ei.3","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-25T18:02:40.094375+08:00","created_by":"Milky2018"}],"comments":[{"id":2,"issue_id":"moon_skrifa-1ei.3","author":"Milky2018","text":"Fixed OutlineGlyph::path scale-mode wiring (PathStyle -\u003e FreeType quantize vs HarfBuzz float) and removed erroneous 65536 HarfBuzz scaling. Added test for hinted(disabled) advance width rounding.","created_at":"2026-01-25T19:16:07Z"}]}
{"id":"moon_skrifa-1ei.4","title":"outline: add real-font fixtures + golden tests vs fontations-reference","description":"Add MoonBit tests that validate outline output against fontations-reference for a curated set of fonts/glyphs/sizes/settings.\n\nApproach:\n- Convert subset fonts in fontations-reference/fauntlet/test_fonts into embedded Bytes constants\n- Generate golden path strings using fontations-reference (already vendored) and compare\n\nAcceptance:\n- Tests cover: glyf composites, hinting on/off, variation coords on/off, CFF/CFF2\n","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-25T10:13:11.012392+08:00","created_by":"Milky2018","updated_at":"2026-01-26T12:04:00.897431+08:00","closed_at":"2026-01-26T12:04:00.897431+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.4","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-25T10:13:11.013037+08:00","created_by":"Milky2018"},{"issue_id":"moon_skrifa-1ei.4","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-25T18:02:40.167672+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.5","title":"outline: use hdmx width when hinted","description":"Match fontations FreeTypeScaler behavior: when embedded hinting requested and backward-compat mode disabled, use hdmx table width for advance/phantom where applicable.","acceptance_criteria":"- hdmx widths applied in hinted outlines when required\\n- Add parity test covering hdmx path\\n- moon test green","status":"closed","priority":1,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-27T08:58:36.270495+08:00","created_by":"Milky2018","updated_at":"2026-01-27T09:14:36.605235+08:00","closed_at":"2026-01-27T09:14:36.605235+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.5","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T08:58:36.271084+08:00","created_by":"Milky2018"}],"comments":[{"id":12,"issue_id":"moon_skrifa-1ei.5","author":"Milky2018","text":"Implemented hdmx advance-width parity for embedded hinting: when hinting is requested and backward-compat is disabled, use hdmx width (integral ppem) for advance_width. Added parity test (Tinos subset) exercising both ignore/use paths; added HintingOptions::new ctor for blackbox tests.","created_at":"2026-01-27T01:14:30Z"}]}
{"id":"moon_skrifa-1ei.6","title":"outline: apply gvar/cvar deltas in embedded hinting","description":"Match fontations behavior for variable fonts: apply gvar deltas to unscaled/phantom points for hinting inputs and apply cvar deltas when scaling CVT.","acceptance_criteria":"- Variable font hinted outlines match fontations for at least one fixture\\n- cvar/gvar paths exercised by tests\\n- moon test green","status":"closed","priority":1,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-27T08:58:38.590302+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:41:05.882142+08:00","closed_at":"2026-01-27T11:41:05.882142+08:00","close_reason":"gvar/cvar embedded hinting parity: handle empty gvar data as zero-delta (have_deltas rounding), all moon tests pass","dependencies":[{"issue_id":"moon_skrifa-1ei.6","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T08:58:38.591066+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7","title":"outline: autohint parity vs upstream","description":"Compare fontations-reference/skrifa outline autohint behavior and align MoonBit (either implement or confirm identical stub behavior).","acceptance_criteria":"- Behavior matches upstream\n- Tests cover\n- moon test green","notes":"Decomposed into subtasks (moon_skrifa-1ei.7.1..7.4); pausing parent while working children.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:42:00.09894+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:15:22.34588+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T12:42:00.171584+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.1","title":"outline/autohint: port types + public API","description":"Port upstream outline/autohint data structures and public API surface from fontations-reference/skrifa/src/outline/autohint.","acceptance_criteria":"- Autohint module exports match upstream names/behavior where possible\\n- moon test green","notes":"Implemented GlyphStyles public type and GlyphStyles::new(outlines) constructor (still placeholder; hinter implementation tracked separately).","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:14:36.702967+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:35:29.425218+08:00","closed_at":"2026-01-27T14:35:29.42522+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7.1","depends_on_id":"moon_skrifa-1ei.7","type":"parent-child","created_at":"2026-01-27T14:14:36.703679+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2","title":"outline/autohint: implement hinter","description":"Implement runtime autohinting logic (upstream skrifa outline::autohint) for glyph outlines without embedded hints.","acceptance_criteria":"- Autohint output matches upstream for test fonts\\n- moon test green","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:14:36.792616+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:21:37.83473+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2","depends_on_id":"moon_skrifa-1ei.7","type":"parent-child","created_at":"2026-01-27T14:14:36.793296+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2.1","title":"outline/autohint: port style classification","description":"Port upstream autohint style classification (script/style selection) exactly as fontations-reference/skrifa::outline::autohint::style.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:24.486382+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:32:16.188115+08:00","closed_at":"2026-01-27T15:32:16.188115+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2.1","depends_on_id":"moon_skrifa-1ei.7.2","type":"parent-child","created_at":"2026-01-27T15:20:24.487022+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2.2","title":"outline/autohint: extract outline geometry","description":"Port upstream autohint outline extraction (points/contours, direction, tags) and ensure identical input to the hinter for glyf/CFF.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:53.423322+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:40:21.440816+08:00","closed_at":"2026-01-27T15:40:21.440816+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2.2","depends_on_id":"moon_skrifa-1ei.7.2","type":"parent-child","created_at":"2026-01-27T15:20:53.423993+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2.3","title":"outline/autohint: build topo segments","description":"Port topo/segments logic (segment detection, linking, smoothing) from fontations-reference/skrifa::outline::autohint.","notes":"Paused: topo segment algorithm partially ported; current failures likely due to outline point materialization mismatch (tracked in moon_skrifa-1ei.16).","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:53.518051+08:00","created_by":"Milky2018","updated_at":"2026-01-27T19:36:53.332043+08:00","closed_at":"2026-01-27T19:36:53.332043+08:00","close_reason":"Topo segments port landed (src/outline/autohint_topo_segments.mbt) with wb parity tests (autohint_topo_segments_wbtest.mbt) matching upstream for NOTOSERIFHEBREW fixture; remaining autohint work tracked by edges/metrics/apply/tests tasks.","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2.3","depends_on_id":"moon_skrifa-1ei.7.2","type":"parent-child","created_at":"2026-01-27T15:20:53.518931+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2.4","title":"outline/autohint: build topo edges","description":"Port topo/edges logic (edge clustering, dominant directions, edge flags) from upstream.","notes":"Starting: port topo/edges.rs (Axis.edges + Edge type + compute_edges/compute_blue_edges) and add parity tests ported from upstream.\nBlocked: compute_edges tests require autohint metrics (widths+blues+scale) + shaper; will resume after metrics tasks land.","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:53.612108+08:00","created_by":"Milky2018","updated_at":"2026-01-27T19:33:45.598663+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2.4","depends_on_id":"moon_skrifa-1ei.7.2","type":"parent-child","created_at":"2026-01-27T15:20:53.612857+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2.5","title":"outline/autohint: compute metrics (scale/widths/blues)","description":"Port autohint metrics pipeline (scale, standard widths, blues) to match upstream results.","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:53.706833+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:53.706833+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2.5","depends_on_id":"moon_skrifa-1ei.7.2","type":"parent-child","created_at":"2026-01-27T15:20:53.7075+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2.6","title":"outline/autohint: apply hint edges","description":"Port hint/edges + hint/outline application pass so hinted outlines match upstream golden paths.","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:20:53.803851+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:20:53.803851+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2.6","depends_on_id":"moon_skrifa-1ei.7.2","type":"parent-child","created_at":"2026-01-27T15:20:53.804752+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2.7","title":"outline/autohint: port full generated script/style tables","description":"Port fontations-reference/skrifa/generated/generated_autohint_styles.rs (SCRIPT_CLASSES/STYLE_CLASSES/STYLE_RANGES) to MoonBit constants to reach full script coverage parity.","status":"open","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T15:26:29.205888+08:00","created_by":"Milky2018","updated_at":"2026-01-27T15:26:29.205888+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2.7","depends_on_id":"moon_skrifa-1ei.7.2","type":"parent-child","created_at":"2026-01-27T15:26:29.20652+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.2.8","title":"outline/autohint: unblock topo segment tests (visibility/strategy)","description":"Current autohint topo implementation uses priv types/functions, but outline_blackbox_test cannot see them. Choose strategy: expose minimal pub(all) test hooks or restructure tests to drive public API only, then implement and make tests pass.","notes":"Fix blackbox-test visibility (priv types not visible). Either expose minimal test helpers or rewrite tests to use public API.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T17:12:05.423105+08:00","created_by":"Milky2018","updated_at":"2026-01-27T18:10:31.033293+08:00","closed_at":"2026-01-27T18:10:31.033293+08:00","close_reason":"Topo segment tests now runnable via wbtest; remaining mismatches tracked separately.","dependencies":[{"issue_id":"moon_skrifa-1ei.7.2.8","depends_on_id":"moon_skrifa-1ei.7.2","type":"parent-child","created_at":"2026-01-27T17:12:05.423778+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.3","title":"outline/autohint: integrate into hint pipeline","description":"Wire Engine::Auto/AutoFallback to use autohint when appropriate; ensure DrawSettings hinted/unhinted behave like upstream.","acceptance_criteria":"- Engine::Auto and AutoFallback semantics match upstream\\n- moon test green","notes":"Wired Engine::Auto into HintingInstance and OutlineGlyph draw/path dispatch (placeholder Auto uses unhinted outlines + advance rounding). Real autohint algorithm still pending.","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:14:36.878091+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:54:29.797861+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7.3","depends_on_id":"moon_skrifa-1ei.7","type":"parent-child","created_at":"2026-01-27T14:14:36.878728+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.7.4","title":"outline/autohint: parity tests","description":"Add parity tests for autohint output (paths/metrics) against upstream expectations.","acceptance_criteria":"- Tests cover at least 1 hinted-less font and multiple glyphs\\n- moon test green","notes":"Added autohint parity golden tests (currently #skip) for notoserif_autohint_shaping + notoserifhebrew_autohint_metrics; expected SVG paths generated via fontations-reference/moon_skrifa_refdump.","status":"open","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T14:14:36.965864+08:00","created_by":"Milky2018","updated_at":"2026-01-27T14:54:30.098936+08:00","dependencies":[{"issue_id":"moon_skrifa-1ei.7.4","depends_on_id":"moon_skrifa-1ei.7","type":"parent-child","created_at":"2026-01-27T14:14:36.966543+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.8","title":"outline: ROUND_XY_TO_GRID behavior parity","description":"Implement correct glyf composite ROUND_XY_TO_GRID rounding rules to match upstream (apply only when hinting enabled).","acceptance_criteria":"- Matches upstream rounding semantics\n- Add regression test\n- moon test green","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T12:42:00.260465+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:59:30.737962+08:00","closed_at":"2026-01-27T13:59:30.737962+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.8","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T12:42:00.332252+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-1ei.9","title":"outline: TT interpreter control-flow/stack parity","description":"Fix embedded TT interpreter to match fontations-reference/skrifa; make hint parity tests pass (no ValueStackUnderflow) and validate fpgm/prep execution semantics.","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-27T13:05:28.68001+08:00","created_by":"Milky2018","updated_at":"2026-01-27T13:53:31.690344+08:00","closed_at":"2026-01-27T13:53:31.690344+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-1ei.9","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-27T13:05:28.756888+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-2ib","title":"outline: add DrawSettings + hinted/unhinted draw/path APIs","description":" moon_skrifa/outline  skrifa/swash  DrawSettings(size, location/coords, hinting instance, path style, memory)  OutlineGlyphCollection  draw/path  settings \\n\\nAcceptance:\\n-  pub DrawSettingsunhinted/hinted + builder\\n-  pub HintingInstance::new/reconfigure/size/location/target/is_enabled no-op \\n- OutlineGlyphCollection  draw_with_settings/path_with_settings draw/path \\n- size scaling upem!=0+ path_style \\n- moon check \u0026\u0026 moon test ","status":"closed","priority":1,"issue_type":"feature","owner":"842376130@qq.com","created_at":"2026-01-25T01:02:33.327478+08:00","created_by":"Milky2018","updated_at":"2026-01-25T01:21:11.141873+08:00","closed_at":"2026-01-25T01:21:11.141873+08:00","close_reason":"Implemented DrawSettings/PathStyle APIs; OutlineGlyphCollection draw/path accept settings (scaling + path_style). Added tests and updated README."}
{"id":"moon_skrifa-3aq","title":"metrics: add GlyphMetrics bounds + GVAR fallback","description":"Extend GlyphMetrics parity.\n- Add bounds() (use outline path bounds)\n- Add GVAR phantom deltas fallback when HVAR missing\n- Add tests (synthetic or fixtures)\n","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T08:38:01.621937+08:00","created_by":"Milky2018","updated_at":"2026-01-24T11:04:19.456599+08:00","closed_at":"2026-01-24T11:04:19.456599+08:00","close_reason":"Closed"}
{"id":"moon_skrifa-5z6","title":"bitmap: add CBDT/EBDT glyph retrieval","description":"Implement bitmap glyph retrieval for CBDT/EBDT formats.\n- Decode glyph data locations from CBLC/EBLC and return BitmapGlyph\n- Add synthetic tests\n","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T08:38:01.698239+08:00","created_by":"Milky2018","updated_at":"2026-01-24T10:38:42.191748+08:00","closed_at":"2026-01-24T10:38:42.191748+08:00","close_reason":"Closed"}
{"id":"moon_skrifa-a6g","title":"outline: implement embedded hinting (HintingInstance)","description":"Implement real embedded hinting for glyf outlines (TT interpreter/auto hinter) so DrawSettings::hinted produces hinted outlines.\\n\\nAcceptance:\\n- HintingInstance::is_enabled true when configured\\n- draw/path honor pedantic flag and HintingOptions(engine/target)\\n- Add tests comparing against known fonts or synthetic instructions","notes":"Implement TrueType embedded hinting (interpreter) and add parity tests against fontations-reference.","status":"closed","priority":2,"issue_type":"feature","owner":"842376130@qq.com","created_at":"2026-01-25T01:15:41.847071+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:41:50.157253+08:00","closed_at":"2026-01-27T11:41:50.157253+08:00","close_reason":"Embedded glyf hinting wired + interpreter + composite + parity tests; moon test green","dependencies":[{"issue_id":"moon_skrifa-a6g","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-25T10:12:05.343155+08:00","created_by":"Milky2018"},{"issue_id":"moon_skrifa-a6g","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-25T18:02:40.23984+08:00","created_by":"Milky2018"}],"comments":[{"id":3,"issue_id":"moon_skrifa-a6g","author":"Milky2018","text":"Hinting still disabled, but OutlineGlyph::draw now matches upstream fallback behavior by rounding advance width when hinted settings are used with a disabled instance (FreeType path_style). Full embedded hinting remains TODO.","created_at":"2026-01-25T19:16:07Z"},{"id":5,"issue_id":"moon_skrifa-a6g","author":"Milky2018","text":"Progress: implemented FreeType-style tricky-font detection (name + cvt/fpgm/prep checksum/len list) in src/outline/hint_reliant.mbt, and implemented glyf fractional_size_hinting based on head.flags FORCE_INTEGER_PPEM in src/outline/outline.mbt. Added initial TT hinting scaffolding files (tt_hint_math/round/zone) but embedded hinting interpreter is still not wired/implemented yet.","created_at":"2026-01-26T05:28:08Z"}]}
{"id":"moon_skrifa-a6g.1","title":"outline: port TrueType bytecode interpreter (glyf embedded hinting)","description":"Port fontations-reference/skrifa TrueType interpreter (fpgm/prep/glyph programs), including stack/call stack, definitions (FDEF/IDEF), zones (twilight+glyph), projection/rounding, cvt+storage, and execution budget checks.","acceptance_criteria":"- HintingInstance configured with Engine::Interpreter runs fpgm+prep and can execute glyph bytecode without UnhandledOpcode on real fonts\\n- No behavior regressions for existing unhinted outline tests\\n- All new tests (see sibling issue) pass","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T13:32:12.639807+08:00","created_by":"Milky2018","updated_at":"2026-01-27T11:41:50.077655+08:00","closed_at":"2026-01-27T11:41:50.077655+08:00","close_reason":"TT interpreter implemented and passing embedded-hinting parity tests; moon test green","dependencies":[{"issue_id":"moon_skrifa-a6g.1","depends_on_id":"moon_skrifa-a6g","type":"parent-child","created_at":"2026-01-26T13:32:12.640325+08:00","created_by":"Milky2018"}],"comments":[{"id":6,"issue_id":"moon_skrifa-a6g.1","author":"Milky2018","text":"Starting: will port fontations-reference/skrifa TrueType interpreter core into MoonBit (engine/dispatch/opcodes/stacks/definitions/program state).","created_at":"2026-01-26T06:10:33Z"},{"id":7,"issue_id":"moon_skrifa-a6g.1","author":"Milky2018","text":"Hinting parity tests now pass (Tinos/Cousine). Fixed GraphicsState move_point/move_zp2_point semantics to match fontations backward-compat behavior and proper freedom-vector scaling; removed debug prints.","created_at":"2026-01-26T10:44:36Z"},{"id":9,"issue_id":"moon_skrifa-a6g.1","author":"Milky2018","text":"Aligned DefinitionSet with fontations allocate/get semantics (supports sparse function ids); updated glyph hinting to ignore interpreter errors when not pedantic (fontations behavior). All hint parity tests incl composite now pass.","created_at":"2026-01-26T11:49:38Z"}]}
{"id":"moon_skrifa-a6g.2","title":"outline: wire embedded hinting into DrawSettings/OutlineGlyph","description":"Integrate the TT interpreter into moon_skrifa/outline so DrawSettings::hinted uses HintingInstance to produce hinted outlines (FreeType path_style only), matches upstream metrics rounding behavior, and preserves fallback semantics when hinting is disabled by prep.","acceptance_criteria":"- OutlineGlyph::draw/path/svg_path honor DrawSettings::hinted for glyf\\n- HarfBuzz path_style with hinting returns HarfBuzzHintingUnsupported\\n- Advance width rounding matches upstream for hinted draws","status":"closed","priority":1,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T13:32:15.694751+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:44:06.20439+08:00","closed_at":"2026-01-26T18:44:06.20439+08:00","close_reason":"Implemented DrawSettings::hinted wiring (FreeType path style), HarfBuzz hinting unsupported, and advance rounding parity.","dependencies":[{"issue_id":"moon_skrifa-a6g.2","depends_on_id":"moon_skrifa-a6g","type":"parent-child","created_at":"2026-01-26T13:32:15.69565+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-a6g.3","title":"outline: add embedded hinting parity tests (tinos/cousine subsets)","description":"Port upstream tests from fontations-reference/skrifa/src/outline/hint.rs and embed necessary font subsets as base64 fixtures.","acceptance_criteria":"- Add MoonBit tests equivalent to: ignore_hdmx_when_back_compat_enabled, round_advance_when_prep_disables_hinting, hint_fractional_font_size\\n- Tests pass on CI (moon test)","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-26T13:32:19.140889+08:00","created_by":"Milky2018","updated_at":"2026-01-26T18:44:12.087147+08:00","closed_at":"2026-01-26T18:44:12.087147+08:00","close_reason":"Added hinting parity tests for Tinos/Cousine subsets; all pass.","dependencies":[{"issue_id":"moon_skrifa-a6g.3","depends_on_id":"moon_skrifa-a6g","type":"parent-child","created_at":"2026-01-26T13:32:19.14154+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-a6g.4","title":"outline: embedded hinting for composite glyf","description":"Support embedded hinting for composite TrueType (glyf) glyphs: load component outlines with transforms, handle composite instruction stream (if present), and run glyph bytecode on the combined outline to match fontations/FreeType behavior.","acceptance_criteria":"- Composite glyf glyphs can be hinted with DrawSettings::hinted (FreeType path_style)\\n- Matches fontations for metrics/phantom points and point movement on composite cases\\n- Add/port at least one composite-hint parity test","status":"closed","priority":1,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-26T18:45:17.03181+08:00","created_by":"Milky2018","updated_at":"2026-01-26T19:49:44.962539+08:00","closed_at":"2026-01-26T19:49:44.962539+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-a6g.4","depends_on_id":"moon_skrifa-a6g","type":"parent-child","created_at":"2026-01-26T18:45:17.032463+08:00","created_by":"Milky2018"}],"comments":[{"id":8,"issue_id":"moon_skrifa-a6g.4","author":"Milky2018","text":"Implemented composite glyf loader + composite hint execution; refactored loader to return Result[_, DrawError] so hint failures surface correctly; fixed DefinitionSet allocation semantics; non-pedantic glyph hinting now matches fontations by swallowing glyph-program errors. moon test: 96/96 passing.","created_at":"2026-01-26T11:49:36Z"}]}
{"id":"moon_skrifa-eaj","title":"outline: support variable outline deltas (gvar + CFF2 blend)","description":"Apply variation coords (LocationRef) to outlines: glyf via gvar point deltas + phantom points; CFF2 via vsindex/blend operators.\\n\\nAcceptance:\\n- path/draw vary when coords != 0\\n- Add regression tests against reference outlines","notes":"Started gvar support for glyf: added src/outline/gvar.mbt implementing tuple scalar, sparse point deltas + IUP interpolation; wired into glyf_simple_path via glyf_outline_path(coords). Still missing composite component deltas + CFF2 blend operators.","status":"closed","priority":2,"issue_type":"feature","owner":"842376130@qq.com","created_at":"2026-01-25T01:15:43.519301+08:00","created_by":"Milky2018","updated_at":"2026-01-26T12:04:00.911972+08:00","closed_at":"2026-01-26T12:04:00.911972+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-eaj","depends_on_id":"moon_skrifa-1ei","type":"parent-child","created_at":"2026-01-25T10:12:06.88587+08:00","created_by":"Milky2018"},{"issue_id":"moon_skrifa-eaj","depends_on_id":"moon_skrifa-0v3","type":"parent-child","created_at":"2026-01-25T18:02:40.3106+08:00","created_by":"Milky2018"}],"comments":[{"id":1,"issue_id":"moon_skrifa-eaj","author":"Milky2018","text":"Implemented CFF2 variation support: parse Top DICT vstore offset, build ItemVariationStore blend state, and add Type2 vsindex/blend operators (incl 16.16 numbers). Added synthetic regression test for blended rlineto. Remaining: glyf composite deltas + phantom points parity.","created_at":"2026-01-25T19:16:07Z"}]}
{"id":"moon_skrifa-i7z","title":" skrifa-reference  MoonBit","description":" fontations-reference/skrifa MoonBit\n\n\n- internal collectionsSmallVec \n- FontRefSFNT/collection table table slice API\n- outlineglyf/cff format  hinting\n- charmap/metrics/variation\n\n\n- / MoonBit  #skip\n- moon check + moon test \n","status":"closed","priority":2,"issue_type":"epic","owner":"842376130@qq.com","created_at":"2026-01-23T14:16:23.914464+08:00","created_by":"Milky2018","updated_at":"2026-01-24T08:37:25.729595+08:00","closed_at":"2026-01-24T08:37:25.729595+08:00","close_reason":"Closed"}
{"id":"moon_skrifa-i7z.1","title":" skrifa/src/collections.rsSmallVec","description":" fontations-reference/skrifa/src/collections.rs  internal SmallVec\n- Inline/Heap  storage\n- new/with_len/clear/try_reserve/push/pop/truncate/as_view \n-  #[test]  MoonBit test\n\nmoon test SmallVec \n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T14:16:31.970839+08:00","created_by":"Milky2018","updated_at":"2026-01-23T14:21:10.635821+08:00","closed_at":"2026-01-23T14:21:10.635821+08:00","close_reason":"ported collections SmallVec + tests","dependencies":[{"issue_id":"moon_skrifa-i7z.1","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T14:16:31.971665+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.10","title":"string name table  localized_strings/english_or_first","description":" skrifa/src/string.rs  name table \n- StringId  FAMILY_NAME/SUBFAMILY_NAME\n-  name records + storage\n- localized_strings(StringId)  + english_or_first/find by language\n-  name table bytes\n\nmoon test localized \n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T15:12:24.25307+08:00","created_by":"Milky2018","updated_at":"2026-01-23T15:56:11.897519+08:00","closed_at":"2026-01-23T15:56:11.897519+08:00","close_reason":"Implemented name table parsing + LocalizedStrings (language tags v1, langId mapping) + english_or_first + tests","dependencies":[{"issue_id":"moon_skrifa-i7z.10","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T15:12:24.253786+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.11","title":"outline glyf move/line/quad/cubicMVP","description":" format() \n-  loca/glyf simple glyph contours\n-  minimal pen/path API upstream path.rs \n-  glyf/loca/head/maxp/hhea/hmtx \n\nmoon test  glyph  path ops\n","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-23T15:12:32.948366+08:00","created_by":"Milky2018","updated_at":"2026-01-23T16:14:18.482093+08:00","closed_at":"2026-01-23T16:14:18.482093+08:00","close_reason":"Implemented glyf simple outline extraction: new PathElement + OutlineGlyphCollection::path, parses loca/head/maxp/glyf and emits MoveTo/LineTo/QuadTo/Close; added synthetic tests","dependencies":[{"issue_id":"moon_skrifa-i7z.11","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T15:12:32.949343+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.12","title":"string: expand language mapping + implement MacRoman decoding","description":"Follow-up to i7z.10: current langid-\u003eBCP47 mapping is minimal (only a few IDs) and Macintosh platform strings are decoded as Latin-1. Port the full Skia mapping (or a reasonable subset) and implement MacRoman byte-to-Unicode mapping for platform=1.","status":"closed","priority":3,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-23T15:58:37.974534+08:00","created_by":"Milky2018","updated_at":"2026-01-23T16:36:16.044721+08:00","closed_at":"2026-01-23T16:36:16.044721+08:00","close_reason":"Expanded language-id to BCP-47 mapping (Skia table) and implemented MacRoman decoding for name table; added tests"}
{"id":"moon_skrifa-i7z.13","title":"outline: support composite glyf glyphs (components + transforms)","description":"Current glyf outline MVP only supports simple glyphs (numberOfContours\u003e0). Add composite glyph parsing (component flags, ARG_1_AND_2_ARE_WORDS/ARGS_ARE_XY_VALUES, scaling matrices), recursion guard, and tests with translated/scaled components.","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-23T16:14:10.650405+08:00","created_by":"Milky2018","updated_at":"2026-01-23T16:23:14.120638+08:00","closed_at":"2026-01-23T16:23:14.120638+08:00","close_reason":"Implemented composite glyf outlines (xy-translation + scale transforms) with recursion guard; added synthetic tests"}
{"id":"moon_skrifa-i7z.14","title":"outline: implement CFF/CFF2 outline extraction (charstrings -\u003e PathElement)","description":"Port skrifa-reference outline/cff and outline/cff2 minimal path extraction. Parse CFF/CFF2 tables, read charstrings for glyph, interpret Type2 charstring ops (move/line/curve), and emit PathElement list. Add synthetic tests if possible or reuse reference fonts.","status":"closed","priority":2,"issue_type":"task","assignee":"Milky2018","owner":"842376130@qq.com","created_at":"2026-01-23T16:37:48.854987+08:00","created_by":"Milky2018","updated_at":"2026-01-23T17:08:29.221383+08:00","closed_at":"2026-01-23T17:08:29.221383+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.14","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T17:11:06.955985+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.15","title":"glyph_name: implement GlyphNames (post/CFF)","description":"Port fontations-reference/skrifa/src/glyph_name.rs.\\n- Parse post table glyph names (at least v2.0)\\n- Optionally source names from CFF charset/strings\\n- Fallback synthesized 'gidDDD'\\n- Add tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T17:09:55.188315+08:00","created_by":"Milky2018","updated_at":"2026-01-23T18:07:15.129347+08:00","closed_at":"2026-01-23T18:07:15.129347+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.15","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T17:09:55.189135+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.16","title":"setting/tag: add Tag type and VariationSetting","description":"Port fontations-reference/skrifa/src/setting.rs and Tag plumbing needed by variation APIs.\\n- Tag parsing from 4-byte strings\\n- Setting[T]/VariationSetting\\n- Tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T17:09:56.641739+08:00","created_by":"Milky2018","updated_at":"2026-01-23T17:56:26.960204+08:00","closed_at":"2026-01-23T17:56:26.960204+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.16","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T17:09:56.642356+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.17","title":"variation: implement AxisCollection + NamedInstance","description":"Port fontations-reference/skrifa/src/variation.rs (fvar/avar) on top of existing Location/LocationRef.\\n- Minimal fvar axis reading + normalization\\n- avar remap (optional)\\n- NamedInstanceCollection\\n- Tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T17:09:59.303455+08:00","created_by":"Milky2018","updated_at":"2026-01-23T18:00:33.043337+08:00","closed_at":"2026-01-23T18:00:33.043337+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.17","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T17:09:59.304112+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.18","title":"provider: add MetadataProvider facade","description":"Port fontations-reference/skrifa/src/provider.rs.\\n- Define MetadataProvider trait-like API for FontRef\\n- Wire existing modules (attributes/metrics/charmap/string/outline)\\n- Add minimal tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T17:10:16.199455+08:00","created_by":"Milky2018","updated_at":"2026-01-23T18:10:50.68138+08:00","closed_at":"2026-01-23T18:10:50.68138+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.18","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T17:10:16.200205+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.19","title":"bitmap: basic BitmapStrikes (sbix/CBDT/EBDT)","description":"Port fontations-reference/skrifa/src/bitmap.rs (likely incremental).\\nStart with format detection + a minimal strike lookup; defer full glyph decoding if needed.","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T17:10:18.243535+08:00","created_by":"Milky2018","updated_at":"2026-01-23T18:13:41.068544+08:00","closed_at":"2026-01-23T18:13:41.068544+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.19","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T17:10:18.244253+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.2","title":" skrifa/src/decycler.rs ","description":" fontations-reference/skrifa/src/decycler.rs  DFS cycle detector\n- DecyclerErrorDepthLimitExceeded/CycleDetected\n- Decyclermax_depth \n- enter/leave +  RAII guard\n-  3 \n\nmoon test \n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T14:22:25.020633+08:00","created_by":"Milky2018","updated_at":"2026-01-23T14:25:06.152972+08:00","closed_at":"2026-01-23T14:25:06.152972+08:00","close_reason":"ported decycler + tests","dependencies":[{"issue_id":"moon_skrifa-i7z.2","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T14:22:25.021325+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.20","title":"color: implement CPAL ColorPalettes","description":"Port minimal CPAL parsing (palette count, palette entries, ColorRecord).\\n- Add ColorPalettes type\\n- Expose via FontRef::color_palettes()\\n- Add synthetic SFNT tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T20:15:33.127173+08:00","created_by":"Milky2018","updated_at":"2026-01-23T20:19:16.210515+08:00","closed_at":"2026-01-23T20:19:16.210515+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.20","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T20:15:33.127889+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.21","title":"color: implement COLR v0 layer lookup","description":"Port minimal COLR v0 parsing (base glyph -\u003e layer records).\\n- Expose via ColorGlyphCollection MVP\\n- No painting yet","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T20:15:42.260395+08:00","created_by":"Milky2018","updated_at":"2026-01-23T20:21:19.187067+08:00","closed_at":"2026-01-23T20:21:19.187067+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.21","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T20:15:42.261087+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.22","title":"metrics: add global font metrics (head/hhea/os2/post)","description":"Port a minimal subset of skrifa metrics::Metrics (units_per_em, ascent/descent/leading, italic angle, underline, is_monospace).\\nKeep existing per-glyph advance/lsb API stable.\\nAdd tests using synthetic tables.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T20:15:55.862086+08:00","created_by":"Milky2018","updated_at":"2026-01-23T20:24:17.05487+08:00","closed_at":"2026-01-23T20:24:17.05487+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.22","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T20:15:55.862805+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.23","title":"outline: add pen/path/error API","description":"Port outline/pen.rs + outline/path.rs + outline/error.rs API surfaces.\\n- Define Pen trait and basic Path types\\n- Wire OutlineGlyphCollection to optionally draw into a Pen (may start with translating PathElement list)\\n- Add tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T00:10:57.133927+08:00","created_by":"Milky2018","updated_at":"2026-01-24T00:14:35.361432+08:00","closed_at":"2026-01-24T00:14:35.361432+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.23","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-24T00:10:57.134899+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.24","title":"outline: add hinting skeleton (no-op)","description":"Port outline/hint.rs + hint_reliant.rs + memory.rs stubs to match upstream API shape.\\n- Keep as no-op for now\\n- Ensure compile + minimal tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T00:10:59.016098+08:00","created_by":"Milky2018","updated_at":"2026-01-24T07:58:33.032847+08:00","closed_at":"2026-01-24T07:58:33.032847+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.24","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-24T00:10:59.016722+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.25","title":"color: add COLR v1 skeleton + Transform types","description":"Port color/transform.rs + minimal COLRv1 structures/enums needed for future traversal.\\n- Detect COLRv1 presence but allow returning unimplemented for painting","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T00:11:01.385667+08:00","created_by":"Milky2018","updated_at":"2026-01-24T08:05:12.985157+08:00","closed_at":"2026-01-24T08:05:12.985157+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.25","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-24T00:11:01.38626+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.26","title":"color: implement COLR v1 traversal (paint callbacks)","description":"Port color/traversal.rs + color/instance.rs MVP.\\n- Define PaintError, Brush, ColorStop, ColorPainter trait\\n- Traverse paint graph with cycle detection\\n- Add tests (may be synthetic)","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T00:11:09.946129+08:00","created_by":"Milky2018","updated_at":"2026-01-24T08:20:36.138153+08:00","closed_at":"2026-01-24T08:20:36.138153+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.26","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-24T00:11:09.946748+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.27","title":"metrics: implement GlyphMetrics (advance/lsb + variations)","description":"Port remaining parts of skrifa/src/metrics.rs: GlyphMetrics + variable deltas (HVAR/GVAR) and bounds pen if feasible.\\n- Keep current Metrics/FontMetrics APIs stable\\n- Add tests","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T00:11:11.23245+08:00","created_by":"Milky2018","updated_at":"2026-01-24T08:31:09.194681+08:00","closed_at":"2026-01-24T08:31:09.194681+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.27","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-24T00:11:11.233098+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.28","title":"bitmap: implement bitmap glyph retrieval","description":"Extend bitmap strikes to return BitmapGlyph and decode basic sbix glyphs (raw PNG/JPEG bytes).\\n- Add tests with synthetic sbix glyph data","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T00:11:13.3986+08:00","created_by":"Milky2018","updated_at":"2026-01-24T08:37:05.547172+08:00","closed_at":"2026-01-24T08:37:05.547172+08:00","close_reason":"Closed","dependencies":[{"issue_id":"moon_skrifa-i7z.28","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-24T00:11:13.39926+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.3","title":" FontRefSFNT/TTC  table  read-fonts ","description":" src/font.mbt\n- FontRef::new / from_index  TTCttcf\n-  offset table + table records\n-  tag  table  BytesView? API table(tag)\n-  SFNT/TTC + table lookup \n\nmoon check + moon test  table lookup \n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T14:27:12.495724+08:00","created_by":"Milky2018","updated_at":"2026-01-23T14:32:53.397996+08:00","closed_at":"2026-01-23T14:32:53.397996+08:00","close_reason":"validated SFNT/TTC + added table(tag) + tests","dependencies":[{"issue_id":"moon_skrifa-i7z.3","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T14:27:12.496331+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.4","title":" instance/Sizeppem/unscaled/linear_scale","description":" src/instance.mbt  Size\n-  unscaled Option\n-  ppem()  linear_scale(units_per_em)\n-  FontRef/axis\n\nmoon test  instance.rs  Size \n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T14:33:27.533321+08:00","created_by":"Milky2018","updated_at":"2026-01-23T14:34:46.713412+08:00","closed_at":"2026-01-23T14:34:46.713412+08:00","close_reason":"aligned Size ppem/unscaled/linear_scale + tests","dependencies":[{"issue_id":"moon_skrifa-i7z.4","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T14:33:27.534001+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.5","title":"outline OutlineGlyphCollection  FontRef  format()  (glyf/CFF/CFF2)","description":" FontRef::table(tag)  outline \n-  OutlineGlyphCollection::from_font(font) new() \n- format() glyf CFF / CFF2 None\n-  SFNT bytes  glyf / CFF / CFF2 table \n\nmoon test format() \n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T14:35:26.160507+08:00","created_by":"Milky2018","updated_at":"2026-01-23T14:58:24.29057+08:00","closed_at":"2026-01-23T14:58:24.29057+08:00","close_reason":"implemented outline format detection via FontRef::table + tests","dependencies":[{"issue_id":"moon_skrifa-i7z.5","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T14:35:26.16119+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.6","title":"charmap cmap  4/12 glyph_id ","description":"/ charmap \n-  FontRef::table(\"cmap\")  cmap header + encoding records\n-  format 4BMP format 12UCS-4 GlyphId\n-  cmap table bytes\n\nmoon test  codepoint  GlyphId\n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T14:35:35.882175+08:00","created_by":"Milky2018","updated_at":"2026-01-23T15:07:39.146017+08:00","closed_at":"2026-01-23T15:07:39.146017+08:00","close_reason":"added minimal cmap format 4/12 parsing + synthetic SFNT tests","dependencies":[{"issue_id":"moon_skrifa-i7z.6","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T14:35:35.883047+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.7","title":"instance Location/LocationRef SmallVec tests","description":" skrifa/src/instance.rs \n- LocationRefis_default/effective_coords\n- Locationowned coords SmallVec\n-  FontRef/axes\n\nmoon test is_default/effective_coords \n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T14:35:43.398177+08:00","created_by":"Milky2018","updated_at":"2026-01-23T15:11:01.101353+08:00","closed_at":"2026-01-23T15:11:01.101353+08:00","close_reason":"ported Location/LocationRef (SmallVec-backed) + tests","dependencies":[{"issue_id":"moon_skrifa-i7z.7","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T14:35:43.398789+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.8","title":"metrics metricshhea/hmtx/maxp","description":" FontRef::table(tag) \n- maxp.numGlyphs\n- hhea.numberOfHMetrics\n- hmtx advanceWidth/lsb  glyph_id \u003c numGlyphs\n-  SFNT bytes \n\nmoon test  glyph\n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T15:12:03.219583+08:00","created_by":"Milky2018","updated_at":"2026-01-23T15:21:05.731262+08:00","closed_at":"2026-01-23T15:21:05.731262+08:00","close_reason":"implemented minimal maxp/hhea/hmtx parsing + tests","dependencies":[{"issue_id":"moon_skrifa-i7z.8","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T15:12:03.220379+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-i7z.9","title":"attribute Stretch/Style/Weight OS/2 + head/macStyle","description":" skrifa/src/attribute.rs \n- Stretch/Style/Weight \n- FontRef::attributes() AttributesProvider\n-  SFNT bytes  OS/2 OS/2italic/oblique \n\nmoon test \n","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-23T15:12:13.951949+08:00","created_by":"Milky2018","updated_at":"2026-01-23T15:32:08.052951+08:00","closed_at":"2026-01-23T15:32:08.052951+08:00","close_reason":"ported Attributes/Stretch/Style/Weight from OS/2/head/post + synthetic tests","dependencies":[{"issue_id":"moon_skrifa-i7z.9","depends_on_id":"moon_skrifa-i7z","type":"parent-child","created_at":"2026-01-23T15:12:13.952599+08:00","created_by":"Milky2018"}]}
{"id":"moon_skrifa-zgh","title":"color: complete COLRv1 paint support (gradients/var/clip)","description":"Finish COLRv1 parity beyond MVP traversal.\n- Implement remaining paint formats (linear/radial/sweep gradients; scale/rotate/skew; var* variants)\n- Support ClipList (push_clip_box)\n- Add tests (synthetic tables)\n","status":"closed","priority":3,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-24T08:38:01.543161+08:00","created_by":"Milky2018","updated_at":"2026-01-24T11:36:26.865855+08:00","closed_at":"2026-01-24T11:36:26.865855+08:00","close_reason":"Closed"}
